/*!
 * Google Maps Marker Animate
 * https://github.com/nunof07/maps-marker-animate
 * @version 0.1.0
 * @author Nuno Freitas (nunofreitas@gmail.com)
 * @license https://raw.githubusercontent.com/nunof07/maps-marker-animate/master/LICENSE
 */
google.maps.Marker.prototype.animateTo=function(t,o,e){var n=this,i=this.getPosition().lat(),a=this.getPosition().lng(),s=t.lat(),r=t.lng(),c=function(g){var m=new Date-g,u=m/o,h=.5-Math.cos(u*Math.PI)/2;if(1>u){var l=i+(s-i)*h,b=a+(r-a)*h,p=new google.maps.LatLng(l,b);n.setPosition(p),n.animateHandler=window.requestAnimationFrame(function(){c(g)})}else n.setPosition(t),"function"==typeof e&&e()};window.cancelAnimationFrame(this.animateHandler),c(new Date)},google.maps.Marker.prototype.bounce=function(t){if(this.isBounceEnabled=t,this.isBounceEnabled){this.bounceStartPosition=this.getPosition();var o=this,e=320,n=this.getMap(),i=591657550.5/Math.pow(2,n.getZoom()-1)/59165755.05,a=new google.maps.LatLng(this.bounceStartPosition.lat()+i,this.bounceStartPosition.lng()),s=function(){o.animateTo(a,e,function(){o.animateTo(o.bounceStartPosition,e,s)})};s(),google.maps.event.removeListener(this.bounceZoomListener),this.bounceZoomListener=google.maps.event.addListener(n,"zoom_changed",function(){o.isBounceEnabled&&(o.setPosition(o.bounceStartPosition),o.bounce(!0))})}else void 0!==this.bounceStartPosition&&this.animateTo(this.bounceStartPosition,160),google.maps.event.removeListener(this.bounceZoomListener)};